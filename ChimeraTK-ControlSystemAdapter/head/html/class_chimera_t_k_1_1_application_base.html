<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ChimeraTK-ControlSystemAdapter: ChimeraTK::ApplicationBase Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="ChimeraTK_Logo_whitebg.png"/></td>
  <td id="projectalign">
   <div id="projectname">ChimeraTK-ControlSystemAdapter<span id="projectnumber">&#160;02.12.00</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_chimera_t_k_1_1_application_base.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_chimera_t_k_1_1_application_base-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ChimeraTK::ApplicationBase Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Base class for applications.  
 <a href="class_chimera_t_k_1_1_application_base.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_application_base_8h_source.html">ApplicationBase.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for ChimeraTK::ApplicationBase:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_chimera_t_k_1_1_application_base__inherit__graph.svg" width="363" height="183"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for ChimeraTK::ApplicationBase:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_chimera_t_k_1_1_application_base__coll__graph.svg" width="344" height="214"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a372aec17ad33121213021296a4926786" id="r_a372aec17ad33121213021296a4926786"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_application_base.html#a372aec17ad33121213021296a4926786">ApplicationBase</a> (std::string name)</td></tr>
<tr class="memdesc:a372aec17ad33121213021296a4926786"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor: the first instance will be created explicitly by the control system adapter code.  <br /></td></tr>
<tr class="separator:a372aec17ad33121213021296a4926786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e5c230cc0d37e9874f99d1757e36758" id="r_a2e5c230cc0d37e9874f99d1757e36758"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_application_base.html#a2e5c230cc0d37e9874f99d1757e36758">~ApplicationBase</a> ()</td></tr>
<tr class="memdesc:a2e5c230cc0d37e9874f99d1757e36758"><td class="mdescLeft">&#160;</td><td class="mdescRight">The implementation of Application must call Application::shutdown() in its destructor.  <br /></td></tr>
<tr class="separator:a2e5c230cc0d37e9874f99d1757e36758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a060c36044735bb3b479940fe9f644a5b" id="r_a060c36044735bb3b479940fe9f644a5b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_application_base.html#a060c36044735bb3b479940fe9f644a5b">initialise</a> ()=0</td></tr>
<tr class="memdesc:a060c36044735bb3b479940fe9f644a5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the application.  <br /></td></tr>
<tr class="separator:a060c36044735bb3b479940fe9f644a5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd3103d056ea320768e422280ee709f3" id="r_abd3103d056ea320768e422280ee709f3"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_application_base.html#abd3103d056ea320768e422280ee709f3">optimiseUnmappedVariables</a> (const std::set&lt; std::string &gt; &amp;unmappedVariables)</td></tr>
<tr class="memdesc:abd3103d056ea320768e422280ee709f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Optimise unmapped variables to avoid unnecessary copies.  <br /></td></tr>
<tr class="separator:abd3103d056ea320768e422280ee709f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a32c70d9576ac03963dbcf2f9f4f34d" id="r_a3a32c70d9576ac03963dbcf2f9f4f34d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_application_base.html#a3a32c70d9576ac03963dbcf2f9f4f34d">run</a> ()=0</td></tr>
<tr class="memdesc:a3a32c70d9576ac03963dbcf2f9f4f34d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the application.  <br /></td></tr>
<tr class="separator:a3a32c70d9576ac03963dbcf2f9f4f34d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ec279bbc23164f485c3d63b8c1dd012" id="r_a5ec279bbc23164f485c3d63b8c1dd012"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_application_base.html#a5ec279bbc23164f485c3d63b8c1dd012">shutdown</a> ()</td></tr>
<tr class="memdesc:a5ec279bbc23164f485c3d63b8c1dd012"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will remove the global pointer to the instance and allows creating another instance afterwards.  <br /></td></tr>
<tr class="separator:a5ec279bbc23164f485c3d63b8c1dd012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a408946c453e9c6928c265dac185a87bd" id="r_a408946c453e9c6928c265dac185a87bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_application_base.html#a408946c453e9c6928c265dac185a87bd">setPVManager</a> (boost::shared_ptr&lt; <a class="el" href="class_chimera_t_k_1_1_device_p_v_manager.html">ChimeraTK::DevicePVManager</a> &gt; const &amp;processVariableManager)</td></tr>
<tr class="memdesc:a408946c453e9c6928c265dac185a87bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the process variable manager.  <br /></td></tr>
<tr class="separator:a408946c453e9c6928c265dac185a87bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b14a972be8d283980dc78f90c6fe828" id="r_a9b14a972be8d283980dc78f90c6fe828"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_chimera_t_k_1_1_device_p_v_manager.html">ChimeraTK::DevicePVManager</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_application_base.html#a9b14a972be8d283980dc78f90c6fe828">getPVManager</a> ()</td></tr>
<tr class="memdesc:a9b14a972be8d283980dc78f90c6fe828"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain the process variable manager.  <br /></td></tr>
<tr class="separator:a9b14a972be8d283980dc78f90c6fe828"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07a0a7c23fb3be6a65bedeb534f12253" id="r_a07a0a7c23fb3be6a65bedeb534f12253"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_application_base.html#a07a0a7c23fb3be6a65bedeb534f12253">getName</a> () const</td></tr>
<tr class="memdesc:a07a0a7c23fb3be6a65bedeb534f12253"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the name of the application.  <br /></td></tr>
<tr class="separator:a07a0a7c23fb3be6a65bedeb534f12253"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae25865a59afbefb206a72b87bb0ecb6c" id="r_ae25865a59afbefb206a72b87bb0ecb6c"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_chimera_t_k_1_1_persistent_data_storage.html">PersistentDataStorage</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_application_base.html#ae25865a59afbefb206a72b87bb0ecb6c">getPersistentDataStorage</a> (unsigned int writeInterval=<a class="el" href="class_chimera_t_k_1_1_persistent_data_storage.html#ada80e6d680be0364eb0c44ea15dc6240">PersistentDataStorage::DEFAULT_WRITE_INTERVAL</a>)</td></tr>
<tr class="memdesc:ae25865a59afbefb206a72b87bb0ecb6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain the <a class="el" href="class_chimera_t_k_1_1_persistent_data_storage.html" title="Persistent data storage for process variables.">PersistentDataStorage</a> object.  <br /></td></tr>
<tr class="separator:ae25865a59afbefb206a72b87bb0ecb6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ac4dc7a539634dc5b5e874e2409f7bfa3" id="r_ac4dc7a539634dc5b5e874e2409f7bfa3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_chimera_t_k_1_1_application_base.html">ApplicationBase</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_application_base.html#ac4dc7a539634dc5b5e874e2409f7bfa3">getInstance</a> ()</td></tr>
<tr class="memdesc:ac4dc7a539634dc5b5e874e2409f7bfa3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain instance of the application.  <br /></td></tr>
<tr class="separator:ac4dc7a539634dc5b5e874e2409f7bfa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a4949ac0453924684e69985f6604f4434" id="r_a4949ac0453924684e69985f6604f4434"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_application_base.html#a4949ac0453924684e69985f6604f4434">_applicationName</a></td></tr>
<tr class="memdesc:a4949ac0453924684e69985f6604f4434"><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of the application.  <br /></td></tr>
<tr class="separator:a4949ac0453924684e69985f6604f4434"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68a5fcd2b5071771b4092ea61f07503f" id="r_a68a5fcd2b5071771b4092ea61f07503f"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_chimera_t_k_1_1_device_p_v_manager.html">ChimeraTK::DevicePVManager</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_application_base.html#a68a5fcd2b5071771b4092ea61f07503f">_processVariableManager</a></td></tr>
<tr class="memdesc:a68a5fcd2b5071771b4092ea61f07503f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the process variable manager used to create variables exported to the control system.  <br /></td></tr>
<tr class="separator:a68a5fcd2b5071771b4092ea61f07503f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63baa1626fd1a7a5debabd66161fe394" id="r_a63baa1626fd1a7a5debabd66161fe394"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_chimera_t_k_1_1_persistent_data_storage.html">PersistentDataStorage</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_application_base.html#a63baa1626fd1a7a5debabd66161fe394">_persistentDataStorage</a></td></tr>
<tr class="memdesc:a63baa1626fd1a7a5debabd66161fe394"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to persistent data storage object, if used.  <br /></td></tr>
<tr class="separator:a63baa1626fd1a7a5debabd66161fe394"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96c6233818750132b2248bae630042da" id="r_a96c6233818750132b2248bae630042da"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_application_base.html#a96c6233818750132b2248bae630042da">_hasBeenShutdown</a> {false}</td></tr>
<tr class="memdesc:a96c6233818750132b2248bae630042da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag if <a class="el" href="class_chimera_t_k_1_1_application_base.html#a5ec279bbc23164f485c3d63b8c1dd012" title="This will remove the global pointer to the instance and allows creating another instance afterwards.">shutdown()</a> has been called.  <br /></td></tr>
<tr class="separator:a96c6233818750132b2248bae630042da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-attribs" name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a687c18c37f236fcb1bf73def3f009cea" id="r_a687c18c37f236fcb1bf73def3f009cea"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_chimera_t_k_1_1_application_base.html">ApplicationBase</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_application_base.html#a687c18c37f236fcb1bf73def3f009cea">instance</a> = nullptr</td></tr>
<tr class="memdesc:a687c18c37f236fcb1bf73def3f009cea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the only instance of the Application.  <br /></td></tr>
<tr class="separator:a687c18c37f236fcb1bf73def3f009cea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53403f49294bd86a96e63fdd1c823354" id="r_a53403f49294bd86a96e63fdd1c823354"><td class="memItemLeft" align="right" valign="top">static std::recursive_mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_application_base.html#a53403f49294bd86a96e63fdd1c823354">instanceMutex</a></td></tr>
<tr class="memdesc:a53403f49294bd86a96e63fdd1c823354"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex for thread-safety when setting the instance pointer.  <br /></td></tr>
<tr class="separator:a53403f49294bd86a96e63fdd1c823354"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a99e0cad91308160391a13270d1723890" id="r_a99e0cad91308160391a13270d1723890"><td class="memTemplParams" colspan="2">template&lt;typename APPLICATION_TYPE &gt; </td></tr>
<tr class="memitem:a99e0cad91308160391a13270d1723890"><td class="memTemplItemLeft" align="right" valign="top">class&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_application_base.html#a99e0cad91308160391a13270d1723890">ApplicationFactory</a></td></tr>
<tr class="separator:a99e0cad91308160391a13270d1723890"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a411a51e67089ec6277b009669ce4983b" id="r_a411a51e67089ec6277b009669ce4983b"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_application_base.html#a411a51e67089ec6277b009669ce4983b">ApplicationFactoryBase</a></td></tr>
<tr class="separator:a411a51e67089ec6277b009669ce4983b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Base class for applications. </p>
<p>Note: The class intended for use by the application programmers is part of the ApplicationCore library and called ChimeraTK::Application. <a class="el" href="class_chimera_t_k_1_1_application_base.html" title="Base class for applications.">ApplicationBase</a> just contains the part which is necessary to write the middleware-specific code initialising the application. </p>

<p class="definition">Definition at line <a class="el" href="_application_base_8h_source.html#l00018">18</a> of file <a class="el" href="_application_base_8h_source.html">ApplicationBase.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a372aec17ad33121213021296a4926786" name="a372aec17ad33121213021296a4926786"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a372aec17ad33121213021296a4926786">&#9670;&#160;</a></span>ApplicationBase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ChimeraTK::ApplicationBase::ApplicationBase </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor: the first instance will be created explicitly by the control system adapter code. </p>
<p>Any second instance is not allowed, thus calling the constructor multiple times will throw an exception. Design note: We are not using a true singleton pattern, since Application is an abstract base class. The actual instance is created as a static variable. The application developer should derive his application from this class and implement the <a class="el" href="class_chimera_t_k_1_1_application_base.html#a060c36044735bb3b479940fe9f644a5b" title="Initialise the application.">initialise()</a> function only. </p>

<p class="definition">Definition at line <a class="el" href="_application_base_8cc_source.html#l00019">19</a> of file <a class="el" href="_application_base_8cc_source.html">ApplicationBase.cc</a>.</p>

</div>
</div>
<a id="a2e5c230cc0d37e9874f99d1757e36758" name="a2e5c230cc0d37e9874f99d1757e36758"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e5c230cc0d37e9874f99d1757e36758">&#9670;&#160;</a></span>~ApplicationBase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ChimeraTK::ApplicationBase::~ApplicationBase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The implementation of Application must call Application::shutdown() in its destructor. </p>
<p>This destructor just checks if Application::shutdown() was properly called and throws an exception otherwise. </p>

<p class="definition">Definition at line <a class="el" href="_application_base_8cc_source.html#l00050">50</a> of file <a class="el" href="_application_base_8cc_source.html">ApplicationBase.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac4dc7a539634dc5b5e874e2409f7bfa3" name="ac4dc7a539634dc5b5e874e2409f7bfa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4dc7a539634dc5b5e874e2409f7bfa3">&#9670;&#160;</a></span>getInstance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_chimera_t_k_1_1_application_base.html">ApplicationBase</a> &amp; ChimeraTK::ApplicationBase::getInstance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Obtain instance of the application. </p>
<p>Will throw an exception if called before the instance has been created by the control system adapter. </p>

<p class="definition">Definition at line <a class="el" href="_application_base_8cc_source.html#l00089">89</a> of file <a class="el" href="_application_base_8cc_source.html">ApplicationBase.cc</a>.</p>

</div>
</div>
<a id="a07a0a7c23fb3be6a65bedeb534f12253" name="a07a0a7c23fb3be6a65bedeb534f12253"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07a0a7c23fb3be6a65bedeb534f12253">&#9670;&#160;</a></span>getName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string &amp; ChimeraTK::ApplicationBase::getName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the name of the application. </p>

<p class="definition">Definition at line <a class="el" href="_application_base_8h_source.html#l00075">75</a> of file <a class="el" href="_application_base_8h_source.html">ApplicationBase.h</a>.</p>

</div>
</div>
<a id="ae25865a59afbefb206a72b87bb0ecb6c" name="ae25865a59afbefb206a72b87bb0ecb6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae25865a59afbefb206a72b87bb0ecb6c">&#9670;&#160;</a></span>getPersistentDataStorage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="el" href="class_chimera_t_k_1_1_persistent_data_storage.html">PersistentDataStorage</a> &gt; ChimeraTK::ApplicationBase::getPersistentDataStorage </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>writeInterval</em> = <code><a class="el" href="class_chimera_t_k_1_1_persistent_data_storage.html#ada80e6d680be0364eb0c44ea15dc6240">PersistentDataStorage::DEFAULT_WRITE_INTERVAL</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Obtain the <a class="el" href="class_chimera_t_k_1_1_persistent_data_storage.html" title="Persistent data storage for process variables.">PersistentDataStorage</a> object. </p>
<p>You can specify the write interval in seconds. </p>

<p class="definition">Definition at line <a class="el" href="_application_base_8h_source.html#l00078">78</a> of file <a class="el" href="_application_base_8h_source.html">ApplicationBase.h</a>.</p>

</div>
</div>
<a id="a9b14a972be8d283980dc78f90c6fe828" name="a9b14a972be8d283980dc78f90c6fe828"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b14a972be8d283980dc78f90c6fe828">&#9670;&#160;</a></span>getPVManager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="el" href="class_chimera_t_k_1_1_device_p_v_manager.html">ChimeraTK::DevicePVManager</a> &gt; ChimeraTK::ApplicationBase::getPVManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Obtain the process variable manager. </p>

<p class="definition">Definition at line <a class="el" href="_application_base_8h_source.html#l00068">68</a> of file <a class="el" href="_application_base_8h_source.html">ApplicationBase.h</a>.</p>

</div>
</div>
<a id="a060c36044735bb3b479940fe9f644a5b" name="a060c36044735bb3b479940fe9f644a5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a060c36044735bb3b479940fe9f644a5b">&#9670;&#160;</a></span>initialise()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ChimeraTK::ApplicationBase::initialise </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialise the application. </p>
<p>This function must be implemented by the application programmer. In this function, the application must register all process variables in the PV manager. </p>

<p>Implemented in <a class="el" href="class_reference_test_application.html#ab6ee82c54c2941157ce767fee73b6d9c">ReferenceTestApplication</a>, and <a class="el" href="class_my_test_application.html#ae0fc21a3b16de8c25d081a708b881a02">MyTestApplication</a>.</p>

</div>
</div>
<a id="abd3103d056ea320768e422280ee709f3" name="abd3103d056ea320768e422280ee709f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd3103d056ea320768e422280ee709f3">&#9670;&#160;</a></span>optimiseUnmappedVariables()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ChimeraTK::ApplicationBase::optimiseUnmappedVariables </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>unmappedVariables</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Optimise unmapped variables to avoid unnecessary copies. </p>
<p>The application must implement this function. The ControlSystemAdapter implementation should call it with a list of PV names which are not mapped, i.e. the Application does not need to update the values of these PVs. If this function is not called, no such optimisation can be done and the application may have an increased CPU usage. If the function is called, it must be called after <a class="el" href="class_chimera_t_k_1_1_application_base.html#a060c36044735bb3b479940fe9f644a5b" title="Initialise the application.">initialise()</a> and before <a class="el" href="class_chimera_t_k_1_1_application_base.html#a3a32c70d9576ac03963dbcf2f9f4f34d" title="Run the application.">run()</a>. </p>

<p>Reimplemented in <a class="el" href="class_reference_test_application.html#a1d8c53bd95aabd6b83d03fbe910f3186">ReferenceTestApplication</a>.</p>

<p class="definition">Definition at line <a class="el" href="_application_base_8h_source.html#l00045">45</a> of file <a class="el" href="_application_base_8h_source.html">ApplicationBase.h</a>.</p>

</div>
</div>
<a id="a3a32c70d9576ac03963dbcf2f9f4f34d" name="a3a32c70d9576ac03963dbcf2f9f4f34d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a32c70d9576ac03963dbcf2f9f4f34d">&#9670;&#160;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ChimeraTK::ApplicationBase::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run the application. </p>
<p>This function must be implemented by the application programmer. It will be called after <a class="el" href="class_chimera_t_k_1_1_application_base.html#a060c36044735bb3b479940fe9f644a5b" title="Initialise the application.">initialise()</a> and after all process variables have been created and, if applicable, initialised with values e.g. from a config file. The application must start one or more threads inside this function, which will execute the actual application. The function must then return, so the control system adpater can continue its operation. </p>

<p>Implemented in <a class="el" href="class_reference_test_application.html#aa13fc1c5fb03375dcbf5da8ba8d8f813">ReferenceTestApplication</a>, and <a class="el" href="class_my_test_application.html#a7f7254f1de2ad558c8d7cbdd898de388">MyTestApplication</a>.</p>

</div>
</div>
<a id="a408946c453e9c6928c265dac185a87bd" name="a408946c453e9c6928c265dac185a87bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a408946c453e9c6928c265dac185a87bd">&#9670;&#160;</a></span>setPVManager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChimeraTK::ApplicationBase::setPVManager </td>
          <td>(</td>
          <td class="paramtype">boost::shared_ptr&lt; <a class="el" href="class_chimera_t_k_1_1_device_p_v_manager.html">ChimeraTK::DevicePVManager</a> &gt; const &amp;&#160;</td>
          <td class="paramname"><em>processVariableManager</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the process variable manager. </p>
<p>This will be called by the control system adapter initialisation code. </p>

<p class="definition">Definition at line <a class="el" href="_application_base_8cc_source.html#l00083">83</a> of file <a class="el" href="_application_base_8cc_source.html">ApplicationBase.cc</a>.</p>

</div>
</div>
<a id="a5ec279bbc23164f485c3d63b8c1dd012" name="a5ec279bbc23164f485c3d63b8c1dd012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ec279bbc23164f485c3d63b8c1dd012">&#9670;&#160;</a></span>shutdown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ChimeraTK::ApplicationBase::shutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This will remove the global pointer to the instance and allows creating another instance afterwards. </p>
<p>This is mostly useful for writing tests, as it allows to run several applications sequentially in the same executable. It is mandatory to call this function inside the descructor of the implemention of this class. </p>

<p class="definition">Definition at line <a class="el" href="_application_base_8cc_source.html#l00073">73</a> of file <a class="el" href="_application_base_8cc_source.html">ApplicationBase.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Symbol Documentation</h2>
<a id="a99e0cad91308160391a13270d1723890" name="a99e0cad91308160391a13270d1723890"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99e0cad91308160391a13270d1723890">&#9670;&#160;</a></span>ApplicationFactory</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename APPLICATION_TYPE &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="class_chimera_t_k_1_1_application_factory.html">ApplicationFactory</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_application_base_8h_source.html#l00106">106</a> of file <a class="el" href="_application_base_8h_source.html">ApplicationBase.h</a>.</p>

</div>
</div>
<a id="a411a51e67089ec6277b009669ce4983b" name="a411a51e67089ec6277b009669ce4983b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a411a51e67089ec6277b009669ce4983b">&#9670;&#160;</a></span>ApplicationFactoryBase</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="class_chimera_t_k_1_1_application_factory_base.html">ApplicationFactoryBase</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_application_base_8h_source.html#l00108">108</a> of file <a class="el" href="_application_base_8h_source.html">ApplicationBase.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a4949ac0453924684e69985f6604f4434" name="a4949ac0453924684e69985f6604f4434"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4949ac0453924684e69985f6604f4434">&#9670;&#160;</a></span>_applicationName</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string ChimeraTK::ApplicationBase::_applicationName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The name of the application. </p>

<p class="definition">Definition at line <a class="el" href="_application_base_8h_source.html#l00087">87</a> of file <a class="el" href="_application_base_8h_source.html">ApplicationBase.h</a>.</p>

</div>
</div>
<a id="a96c6233818750132b2248bae630042da" name="a96c6233818750132b2248bae630042da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96c6233818750132b2248bae630042da">&#9670;&#160;</a></span>_hasBeenShutdown</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ChimeraTK::ApplicationBase::_hasBeenShutdown {false}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag if <a class="el" href="class_chimera_t_k_1_1_application_base.html#a5ec279bbc23164f485c3d63b8c1dd012" title="This will remove the global pointer to the instance and allows creating another instance afterwards.">shutdown()</a> has been called. </p>

<p class="definition">Definition at line <a class="el" href="_application_base_8h_source.html#l00097">97</a> of file <a class="el" href="_application_base_8h_source.html">ApplicationBase.h</a>.</p>

</div>
</div>
<a id="a63baa1626fd1a7a5debabd66161fe394" name="a63baa1626fd1a7a5debabd66161fe394"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63baa1626fd1a7a5debabd66161fe394">&#9670;&#160;</a></span>_persistentDataStorage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;<a class="el" href="class_chimera_t_k_1_1_persistent_data_storage.html">PersistentDataStorage</a>&gt; ChimeraTK::ApplicationBase::_persistentDataStorage</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to persistent data storage object, if used. </p>

<p class="definition">Definition at line <a class="el" href="_application_base_8h_source.html#l00094">94</a> of file <a class="el" href="_application_base_8h_source.html">ApplicationBase.h</a>.</p>

</div>
</div>
<a id="a68a5fcd2b5071771b4092ea61f07503f" name="a68a5fcd2b5071771b4092ea61f07503f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68a5fcd2b5071771b4092ea61f07503f">&#9670;&#160;</a></span>_processVariableManager</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;<a class="el" href="class_chimera_t_k_1_1_device_p_v_manager.html">ChimeraTK::DevicePVManager</a>&gt; ChimeraTK::ApplicationBase::_processVariableManager</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to the process variable manager used to create variables exported to the control system. </p>

<p class="definition">Definition at line <a class="el" href="_application_base_8h_source.html#l00091">91</a> of file <a class="el" href="_application_base_8h_source.html">ApplicationBase.h</a>.</p>

</div>
</div>
<a id="a687c18c37f236fcb1bf73def3f009cea" name="a687c18c37f236fcb1bf73def3f009cea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a687c18c37f236fcb1bf73def3f009cea">&#9670;&#160;</a></span>instance</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_chimera_t_k_1_1_application_base.html">ApplicationBase</a> * ChimeraTK::ApplicationBase::instance = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to the only instance of the Application. </p>

<p class="definition">Definition at line <a class="el" href="_application_base_8h_source.html#l00100">100</a> of file <a class="el" href="_application_base_8h_source.html">ApplicationBase.h</a>.</p>

</div>
</div>
<a id="a53403f49294bd86a96e63fdd1c823354" name="a53403f49294bd86a96e63fdd1c823354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53403f49294bd86a96e63fdd1c823354">&#9670;&#160;</a></span>instanceMutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::recursive_mutex ChimeraTK::ApplicationBase::instanceMutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mutex for thread-safety when setting the instance pointer. </p>

<p class="definition">Definition at line <a class="el" href="_application_base_8h_source.html#l00103">103</a> of file <a class="el" href="_application_base_8h_source.html">ApplicationBase.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/scratch/dragon/sources/ChimeraTK-ControlSystemAdapter/include/ChimeraTK/ControlSystemAdapter/<a class="el" href="_application_base_8h_source.html">ApplicationBase.h</a></li>
<li>/scratch/dragon/sources/ChimeraTK-ControlSystemAdapter/src/<a class="el" href="_application_base_8cc_source.html">ApplicationBase.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_chimera_t_k.html">ChimeraTK</a></li><li class="navelem"><a class="el" href="class_chimera_t_k_1_1_application_base.html">ApplicationBase</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
