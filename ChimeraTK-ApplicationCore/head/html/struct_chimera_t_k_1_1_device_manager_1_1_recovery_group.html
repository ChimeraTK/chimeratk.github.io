<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ChimeraTK-ApplicationCore: ChimeraTK::DeviceManager::RecoveryGroup Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="ChimeraTK_Logo_whitebg.png"/></td>
  <td id="projectalign">
   <div id="projectname">ChimeraTK-ApplicationCore<span id="projectnumber">&#160;04.07.01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ChimeraTK::DeviceManager::RecoveryGroup Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The shared state of a group of DeviceManagers which are recovering together.  
 <a href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_device_manager_8h_source.html">DeviceManager.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for ChimeraTK::DeviceManager::RecoveryGroup:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a965798c4c23ab1de58157361f6ed384d" id="r_a965798c4c23ab1de58157361f6ed384d"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a965798c4c23ab1de58157361f6ed384d">RecoveryStage</a> { <br />
&#160;&#160;<a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a965798c4c23ab1de58157361f6ed384dad306b6fdee05fe87455110ddf6501e6c">NO_ERROR</a>
, <a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a965798c4c23ab1de58157361f6ed384daa26f105c8a40156ec93de3e64c0f68db">DETECTION</a>
, <a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a965798c4c23ab1de58157361f6ed384daa38bd5138bf35514df41a1795ebbf5c3">OPEN</a>
, <a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a965798c4c23ab1de58157361f6ed384da25131d6667fbcf46d92850b7462a0678">INIT_HANDLERS</a>
, <br />
&#160;&#160;<a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a965798c4c23ab1de58157361f6ed384da8370cc22bd5ffe60362c01542dbcfe9e">RECOVERY_ACCESSORS</a>
, <a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a965798c4c23ab1de58157361f6ed384dabd5afe2bb84e771da655084ba65ec880">CLEAR_ERROR</a>
<br />
 }</td></tr>
<tr class="separator:a965798c4c23ab1de58157361f6ed384d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7893a193ecdb73c3bdf4ecaf686d1a1a" id="r_a7893a193ecdb73c3bdf4ecaf686d1a1a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a7893a193ecdb73c3bdf4ecaf686d1a1a">waitForRecoveryStage</a> (<a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a965798c4c23ab1de58157361f6ed384d">RecoveryStage</a> stage)</td></tr>
<tr class="separator:a7893a193ecdb73c3bdf4ecaf686d1a1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab83adca90605ee2c5ea7afb46e748804" id="r_ab83adca90605ee2c5ea7afb46e748804"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#ab83adca90605ee2c5ea7afb46e748804">setErrorAtStage</a> (<a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a965798c4c23ab1de58157361f6ed384d">RecoveryStage</a> stage)</td></tr>
<tr class="separator:ab83adca90605ee2c5ea7afb46e748804"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57437df68f1b1f96a384067b9017e0aa" id="r_a57437df68f1b1f96a384067b9017e0aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a57437df68f1b1f96a384067b9017e0aa">resetErrorAtStage</a> ()</td></tr>
<tr class="separator:a57437df68f1b1f96a384067b9017e0aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a78168651c388d4032a705438c5cfe305" id="r_a78168651c388d4032a705438c5cfe305"><td class="memItemLeft" align="right" valign="top">static constexpr const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a78168651c388d4032a705438c5cfe305">stageToString</a> (<a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a965798c4c23ab1de58157361f6ed384d">RecoveryStage</a> stage)</td></tr>
<tr class="separator:a78168651c388d4032a705438c5cfe305"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a472c10ec23db71f3f7a1e4fd35a5ae31" id="r_a472c10ec23db71f3f7a1e4fd35a5ae31"><td class="memItemLeft" align="right" valign="top">std::set&lt; DeviceBackend::BackendID &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a472c10ec23db71f3f7a1e4fd35a5ae31">recoveryBackendIDs</a></td></tr>
<tr class="memdesc:a472c10ec23db71f3f7a1e4fd35a5ae31"><td class="mdescLeft">&#160;</td><td class="mdescRight">All backend ID in this recovery group.  <br /></td></tr>
<tr class="separator:a472c10ec23db71f3f7a1e4fd35a5ae31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34adc069726b797a5d003124684758f6" id="r_a34adc069726b797a5d003124684758f6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_chimera_t_k_1_1_application.html">Application</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a34adc069726b797a5d003124684758f6">app</a> {nullptr}</td></tr>
<tr class="memdesc:a34adc069726b797a5d003124684758f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the application to access the recovery lock.  <br /></td></tr>
<tr class="separator:a34adc069726b797a5d003124684758f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad102794967553189ba19470c6fa4e1f7" id="r_ad102794967553189ba19470c6fa4e1f7"><td class="memItemLeft" align="right" valign="top">std::barrier&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#ad102794967553189ba19470c6fa4e1f7">recoveryBarrier</a> {1}</td></tr>
<tr class="memdesc:ad102794967553189ba19470c6fa4e1f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">A barrier is used to ensure that each stage of the recovery process is completed by all DeviceManagers in the recovery group before the next stage is started.  <br /></td></tr>
<tr class="separator:ad102794967553189ba19470c6fa4e1f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9e51b90ce11287b19494764b66bde5e" id="r_ab9e51b90ce11287b19494764b66bde5e"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a965798c4c23ab1de58157361f6ed384d">RecoveryStage</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#ab9e51b90ce11287b19494764b66bde5e">errorAtStage</a> {<a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a965798c4c23ab1de58157361f6ed384dad306b6fdee05fe87455110ddf6501e6c">RecoveryStage::NO_ERROR</a>}</td></tr>
<tr class="memdesc:ab9e51b90ce11287b19494764b66bde5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicator whether recovery has to be repeated, and from which barrier.  <br /></td></tr>
<tr class="separator:ab9e51b90ce11287b19494764b66bde5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa649868fec80bba689ce672e2fbdd0c4" id="r_aa649868fec80bba689ce672e2fbdd0c4"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#aa649868fec80bba689ce672e2fbdd0c4">shutdown</a> {false}</td></tr>
<tr class="memdesc:aa649868fec80bba689ce672e2fbdd0c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that all DeviceManagers in the group should terminate their main loop.  <br /></td></tr>
<tr class="separator:aa649868fec80bba689ce672e2fbdd0c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa70ce09f5af5670f3ea481ab2033e9b3" id="r_aa70ce09f5af5670f3ea481ab2033e9b3"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#aa70ce09f5af5670f3ea481ab2033e9b3">_initHandlerOpenCloseMutex</a></td></tr>
<tr class="memdesc:aa70ce09f5af5670f3ea481ab2033e9b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Protect closing and re-opening the device of any <a class="el" href="class_chimera_t_k_1_1_device_manager.html" title="Implements access to a ChimeraTK::Device.">DeviceManager</a> in a recovery group against each other.  <br /></td></tr>
<tr class="separator:aa70ce09f5af5670f3ea481ab2033e9b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a022ebf22fe486bbba8446d2fdca9cdac" id="r_a022ebf22fe486bbba8446d2fdca9cdac"><td class="memItemLeft" align="right" valign="top">static std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a022ebf22fe486bbba8446d2fdca9cdac">globalDeviceOpenMutex</a></td></tr>
<tr class="memdesc:a022ebf22fe486bbba8446d2fdca9cdac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Protect the device open actions for all DeviceManagers and groups.  <br /></td></tr>
<tr class="separator:a022ebf22fe486bbba8446d2fdca9cdac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The shared state of a group of DeviceManagers which are recovering together. </p>

<p class="definition">Definition at line <a class="el" href="_device_manager_8h_source.html#l00213">213</a> of file <a class="el" href="_device_manager_8h_source.html">DeviceManager.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a965798c4c23ab1de58157361f6ed384d" name="a965798c4c23ab1de58157361f6ed384d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a965798c4c23ab1de58157361f6ed384d">&#9670;&#160;</a></span>RecoveryStage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a965798c4c23ab1de58157361f6ed384d">ChimeraTK::DeviceManager::RecoveryGroup::RecoveryStage</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a965798c4c23ab1de58157361f6ed384dad306b6fdee05fe87455110ddf6501e6c" name="a965798c4c23ab1de58157361f6ed384dad306b6fdee05fe87455110ddf6501e6c"></a>NO_ERROR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a965798c4c23ab1de58157361f6ed384daa26f105c8a40156ec93de3e64c0f68db" name="a965798c4c23ab1de58157361f6ed384daa26f105c8a40156ec93de3e64c0f68db"></a>DETECTION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a965798c4c23ab1de58157361f6ed384daa38bd5138bf35514df41a1795ebbf5c3" name="a965798c4c23ab1de58157361f6ed384daa38bd5138bf35514df41a1795ebbf5c3"></a>OPEN&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a965798c4c23ab1de58157361f6ed384da25131d6667fbcf46d92850b7462a0678" name="a965798c4c23ab1de58157361f6ed384da25131d6667fbcf46d92850b7462a0678"></a>INIT_HANDLERS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a965798c4c23ab1de58157361f6ed384da8370cc22bd5ffe60362c01542dbcfe9e" name="a965798c4c23ab1de58157361f6ed384da8370cc22bd5ffe60362c01542dbcfe9e"></a>RECOVERY_ACCESSORS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a965798c4c23ab1de58157361f6ed384dabd5afe2bb84e771da655084ba65ec880" name="a965798c4c23ab1de58157361f6ed384dabd5afe2bb84e771da655084ba65ec880"></a>CLEAR_ERROR&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="_device_manager_8h_source.html#l00214">214</a> of file <a class="el" href="_device_manager_8h_source.html">DeviceManager.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a57437df68f1b1f96a384067b9017e0aa" name="a57437df68f1b1f96a384067b9017e0aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57437df68f1b1f96a384067b9017e0aa">&#9670;&#160;</a></span>resetErrorAtStage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChimeraTK::DeviceManager::RecoveryGroup::resetErrorAtStage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_device_manager_8cc_source.html#l00558">558</a> of file <a class="el" href="_device_manager_8cc_source.html">DeviceManager.cc</a>.</p>

</div>
</div>
<a id="ab83adca90605ee2c5ea7afb46e748804" name="ab83adca90605ee2c5ea7afb46e748804"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab83adca90605ee2c5ea7afb46e748804">&#9670;&#160;</a></span>setErrorAtStage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChimeraTK::DeviceManager::RecoveryGroup::setErrorAtStage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a965798c4c23ab1de58157361f6ed384d">RecoveryStage</a>&#160;</td>
          <td class="paramname"><em>stage</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_device_manager_8cc_source.html#l00551">551</a> of file <a class="el" href="_device_manager_8cc_source.html">DeviceManager.cc</a>.</p>

</div>
</div>
<a id="a78168651c388d4032a705438c5cfe305" name="a78168651c388d4032a705438c5cfe305"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78168651c388d4032a705438c5cfe305">&#9670;&#160;</a></span>stageToString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static constexpr const char * ChimeraTK::DeviceManager::RecoveryGroup::stageToString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a965798c4c23ab1de58157361f6ed384d">RecoveryStage</a>&#160;</td>
          <td class="paramname"><em>stage</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_device_manager_8h_source.html#l00215">215</a> of file <a class="el" href="_device_manager_8h_source.html">DeviceManager.h</a>.</p>

</div>
</div>
<a id="a7893a193ecdb73c3bdf4ecaf686d1a1a" name="a7893a193ecdb73c3bdf4ecaf686d1a1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7893a193ecdb73c3bdf4ecaf686d1a1a">&#9670;&#160;</a></span>waitForRecoveryStage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ChimeraTK::DeviceManager::RecoveryGroup::waitForRecoveryStage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a965798c4c23ab1de58157361f6ed384d">RecoveryStage</a>&#160;</td>
          <td class="paramname"><em>stage</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return false if errorAtStage is the current stage. <a class="anchor" id="waitForRecoveryStage_comment"></a>It is important to check whether the reported error has happened at the stage for which we waited at the barrier, or already for the next stage which about to start.</p>
<p>Only in case the error is for the stage we just completed we must return false. In this case the error has been set before the barrier and all DeviceManagers see it and restart the recovery from here.</p>
<p>In case the error is from the following stage, the according <a class="el" href="class_chimera_t_k_1_1_device_manager.html" title="Implements access to a ChimeraTK::Device.">DeviceManager</a> will wait at the next barrier. So this <a class="el" href="class_chimera_t_k_1_1_device_manager.html" title="Implements access to a ChimeraTK::Device.">DeviceManager</a> must also proceed to that barrier to keep them in sync. Hence, we must return true here (meaning the requested stage completed successfully), even though we know that an error has occured.</p>

<p class="definition">Definition at line <a class="el" href="_device_manager_8cc_source.html#l00521">521</a> of file <a class="el" href="_device_manager_8cc_source.html">DeviceManager.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aa70ce09f5af5670f3ea481ab2033e9b3" name="aa70ce09f5af5670f3ea481ab2033e9b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa70ce09f5af5670f3ea481ab2033e9b3">&#9670;&#160;</a></span>_initHandlerOpenCloseMutex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex ChimeraTK::DeviceManager::RecoveryGroup::_initHandlerOpenCloseMutex</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Protect closing and re-opening the device of any <a class="el" href="class_chimera_t_k_1_1_device_manager.html" title="Implements access to a ChimeraTK::Device.">DeviceManager</a> in a recovery group against each other. </p>
<p>This is needed since the devices can share backends internally. The globalDeviceOpenMutex is used in addition to protect globally open() calls as a performance optimisation.</p>
<p>The use of this additional mutex allows to execute init handlers of different groups simultaneously. </p>

<p class="definition">Definition at line <a class="el" href="_device_manager_8h_source.html#l00280">280</a> of file <a class="el" href="_device_manager_8h_source.html">DeviceManager.h</a>.</p>

</div>
</div>
<a id="a34adc069726b797a5d003124684758f6" name="a34adc069726b797a5d003124684758f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34adc069726b797a5d003124684758f6">&#9670;&#160;</a></span>app</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_chimera_t_k_1_1_application.html">Application</a>* ChimeraTK::DeviceManager::RecoveryGroup::app {nullptr}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to the application to access the recovery lock. </p>

<p class="definition">Definition at line <a class="el" href="_device_manager_8h_source.html#l00234">234</a> of file <a class="el" href="_device_manager_8h_source.html">DeviceManager.h</a>.</p>

</div>
</div>
<a id="ab9e51b90ce11287b19494764b66bde5e" name="ab9e51b90ce11287b19494764b66bde5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9e51b90ce11287b19494764b66bde5e">&#9670;&#160;</a></span>errorAtStage</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;<a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a965798c4c23ab1de58157361f6ed384d">RecoveryStage</a>&gt; ChimeraTK::DeviceManager::RecoveryGroup::errorAtStage {<a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html#a965798c4c23ab1de58157361f6ed384dad306b6fdee05fe87455110ddf6501e6c">RecoveryStage::NO_ERROR</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicator whether recovery has to be repeated, and from which barrier. </p>
<p>It is important to specify at which stage the error has occured to avoid a race condition (see code comment in the <a class="el" href="/scratch/dragon/sources/ChimeraTK-ApplicationCore/src/DeviceManager.cc#waitForRecoveryStage_comment">waitForRecoveryStage_comment</a> waitForRecoveryStage implementation). </p>

<p class="definition">Definition at line <a class="el" href="_device_manager_8h_source.html#l00250">250</a> of file <a class="el" href="_device_manager_8h_source.html">DeviceManager.h</a>.</p>

</div>
</div>
<a id="a022ebf22fe486bbba8446d2fdca9cdac" name="a022ebf22fe486bbba8446d2fdca9cdac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a022ebf22fe486bbba8446d2fdca9cdac">&#9670;&#160;</a></span>globalDeviceOpenMutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex ChimeraTK::DeviceManager::RecoveryGroup::globalDeviceOpenMutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Protect the device open actions for all DeviceManagers and groups. </p>
<p>It is used to:</p>
<p>1) protect calls to open(), which is not thread safe in backends, 2) prevent concurrent extensive memory allocation which might happen in open(), which would be very inefficient and slow.</p>
<p>Note: Point 1) could be satisfied with a group-wide mutex, but this mutex needs to be common for all groups for point 2).</p>
<p>The mutex is used in two places: a) call to open() to initially open the device resp. to recover it from an exception, b) re-opening the device after an init handler has been executed.</p>
<p>The use case b) is augmented with the _initHandlerOpenCloseMutex. </p>

<p class="definition">Definition at line <a class="el" href="_device_manager_8h_source.html#l00271">271</a> of file <a class="el" href="_device_manager_8h_source.html">DeviceManager.h</a>.</p>

</div>
</div>
<a id="a472c10ec23db71f3f7a1e4fd35a5ae31" name="a472c10ec23db71f3f7a1e4fd35a5ae31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a472c10ec23db71f3f7a1e4fd35a5ae31">&#9670;&#160;</a></span>recoveryBackendIDs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;DeviceBackend::BackendID&gt; ChimeraTK::DeviceManager::RecoveryGroup::recoveryBackendIDs</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>All backend ID in this recovery group. </p>

<p class="definition">Definition at line <a class="el" href="_device_manager_8h_source.html#l00233">233</a> of file <a class="el" href="_device_manager_8h_source.html">DeviceManager.h</a>.</p>

</div>
</div>
<a id="ad102794967553189ba19470c6fa4e1f7" name="ad102794967553189ba19470c6fa4e1f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad102794967553189ba19470c6fa4e1f7">&#9670;&#160;</a></span>recoveryBarrier</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::barrier ChimeraTK::DeviceManager::RecoveryGroup::recoveryBarrier {1}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A barrier is used to ensure that each stage of the recovery process is completed by all DeviceManagers in the recovery group before the next stage is started. </p>
<ul>
<li>Detection of the error condition </li>
<li>Re-opening of the device </li>
<li>Running the initialisation handlers </li>
<li>Writing the recovery accessors </li>
</ul>

<p class="definition">Definition at line <a class="el" href="_device_manager_8h_source.html#l00244">244</a> of file <a class="el" href="_device_manager_8h_source.html">DeviceManager.h</a>.</p>

</div>
</div>
<a id="aa649868fec80bba689ce672e2fbdd0c4" name="aa649868fec80bba689ce672e2fbdd0c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa649868fec80bba689ce672e2fbdd0c4">&#9670;&#160;</a></span>shutdown</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;bool&gt; ChimeraTK::DeviceManager::RecoveryGroup::shutdown {false}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicate that all DeviceManagers in the group should terminate their main loop. </p>

<p class="definition">Definition at line <a class="el" href="_device_manager_8h_source.html#l00253">253</a> of file <a class="el" href="_device_manager_8h_source.html">DeviceManager.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>/scratch/dragon/sources/ChimeraTK-ApplicationCore/include/<a class="el" href="_device_manager_8h_source.html">DeviceManager.h</a></li>
<li>/scratch/dragon/sources/ChimeraTK-ApplicationCore/src/<a class="el" href="_device_manager_8cc_source.html">DeviceManager.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_chimera_t_k.html">ChimeraTK</a></li><li class="navelem"><a class="el" href="class_chimera_t_k_1_1_device_manager.html">DeviceManager</a></li><li class="navelem"><a class="el" href="struct_chimera_t_k_1_1_device_manager_1_1_recovery_group.html">RecoveryGroup</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
