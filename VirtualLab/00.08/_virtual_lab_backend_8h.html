<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>mtca4u-VirtualLab: include/VirtualLabBackend.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ChimeraTK_Logo_whitebg.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">mtca4u-VirtualLab
   &#160;<span id="projectnumber">00.08.00</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_virtual_lab_backend_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">VirtualLabBackend.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;limits&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &lt;mutex&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;boost/shared_ptr.hpp&gt;</code><br />
<code>#include &lt;boost/fusion/algorithm.hpp&gt;</code><br />
<code>#include &lt;boost/fusion/container/set.hpp&gt;</code><br />
<code>#include &lt;boost/fusion/include/at_key.hpp&gt;</code><br />
<code>#include &lt;boost/msm/back/state_machine.hpp&gt;</code><br />
<code>#include &lt;boost/msm/front/euml/euml.hpp&gt;</code><br />
<code>#include &lt;boost/msm/front/state_machine_def.hpp&gt;</code><br />
<code>#include &lt;ChimeraTK/BackendFactory.h&gt;</code><br />
<code>#include &lt;ChimeraTK/DeviceAccessVersion.h&gt;</code><br />
<code>#include &lt;ChimeraTK/DummyBackend.h&gt;</code><br />
<code>#include &lt;ChimeraTK/DummyRegisterAccessor.h&gt;</code><br />
<code>#include &quot;<a class="el" href="_timer_group_8h_source.html">TimerGroup.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for VirtualLabBackend.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="_virtual_lab_backend_8h__incl.svg" width="100%" height="451"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="_virtual_lab_backend_8h__dep__incl.svg" width="242" height="127"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="_virtual_lab_backend_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_virtual_lab_1_1_virtual_lab_backend.html">ChimeraTK::VirtualLab::VirtualLabBackend&lt; derived &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base class for <a class="el" href="namespace_chimera_t_k_1_1_virtual_lab.html">VirtualLab</a> dummy devices.  <a href="class_chimera_t_k_1_1_virtual_lab_1_1_virtual_lab_backend.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_virtual_lab_1_1_virtual_lab_backend_1_1_timer.html">ChimeraTK::VirtualLab::VirtualLabBackend&lt; derived &gt;::Timer&lt; timerEvent &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">VirtualDevice::Timer class.  <a href="class_chimera_t_k_1_1_virtual_lab_1_1_virtual_lab_backend_1_1_timer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1_virtual_lab_1_1_virtual_lab_backend.html">mtca4u::VirtualLab::VirtualLabBackend&lt; derived &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespace_chimera_t_k"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_chimera_t_k.html">ChimeraTK</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespace_chimera_t_k_1_1_virtual_lab"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_chimera_t_k_1_1_virtual_lab.html">ChimeraTK::VirtualLab</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacemtca4u"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemtca4u.html">mtca4u</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacemtca4u_1_1_virtual_lab"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemtca4u_1_1_virtual_lab.html">mtca4u::VirtualLab</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:afc36c7d5610163a54075d728b8036aee"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_virtual_lab_backend_8h.html#afc36c7d5610163a54075d728b8036aee">DECLARE_EVENT</a>(name)&#160;&#160;&#160;class name : public msm::front::euml::euml_event&lt;name&gt; {}</td></tr>
<tr class="memdesc:afc36c7d5610163a54075d728b8036aee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare an event.  <a href="#afc36c7d5610163a54075d728b8036aee">More...</a><br /></td></tr>
<tr class="separator:afc36c7d5610163a54075d728b8036aee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b7c9738f17371665a60fd7bfab763b8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_virtual_lab_backend_8h.html#a6b7c9738f17371665a60fd7bfab763b8">DECLARE_STATE</a>(name)&#160;&#160;&#160;class name : public msm::front::state&lt;&gt;, public msm::front::euml::euml_state&lt;name&gt; {}</td></tr>
<tr class="memdesc:a6b7c9738f17371665a60fd7bfab763b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare a plain state, without any entry or exit functions etc.  <a href="#a6b7c9738f17371665a60fd7bfab763b8">More...</a><br /></td></tr>
<tr class="separator:a6b7c9738f17371665a60fd7bfab763b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5459fdaf264e275129b53282cce6a211"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_virtual_lab_backend_8h.html#a5459fdaf264e275129b53282cce6a211">DECLARE_LOGGING_STATE</a>(name)</td></tr>
<tr class="memdesc:a5459fdaf264e275129b53282cce6a211"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare a logging state.  <a href="#a5459fdaf264e275129b53282cce6a211">More...</a><br /></td></tr>
<tr class="separator:a5459fdaf264e275129b53282cce6a211"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8757ab2423bfee31861bffdfee9e1f2d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_virtual_lab_backend_8h.html#a8757ab2423bfee31861bffdfee9e1f2d">DECLARE_REGISTER</a>(UserType,  name)&#160;&#160;&#160;ChimeraTK::DummyRegisterAccessor&lt;UserType&gt; name</td></tr>
<tr class="memdesc:a8757ab2423bfee31861bffdfee9e1f2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare a dummy register accessor for single-word or 1D-array registers.  <a href="#a8757ab2423bfee31861bffdfee9e1f2d">More...</a><br /></td></tr>
<tr class="separator:a8757ab2423bfee31861bffdfee9e1f2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c75cf7155966f5b651e482e2ce6fe89"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_virtual_lab_backend_8h.html#a7c75cf7155966f5b651e482e2ce6fe89">DECLARE_MUXED_REGISTER</a>(UserType,  name)&#160;&#160;&#160;ChimeraTK::DummyMultiplexedRegisterAccessor&lt;UserType&gt; name</td></tr>
<tr class="memdesc:a7c75cf7155966f5b651e482e2ce6fe89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare a dummy register accessor for multiplexed 2D-array registers.  <a href="#a7c75cf7155966f5b651e482e2ce6fe89">More...</a><br /></td></tr>
<tr class="separator:a7c75cf7155966f5b651e482e2ce6fe89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accdc037c8ef6ec4cc4bc888caab21a14"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_virtual_lab_backend_8h.html#accdc037c8ef6ec4cc4bc888caab21a14">WRITEEVENT_TABLE</a></td></tr>
<tr class="memdesc:accdc037c8ef6ec4cc4bc888caab21a14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provide a "table" of events and register names using the CONNECT_REGISTER_EVENT macro for write events.  <a href="#accdc037c8ef6ec4cc4bc888caab21a14">More...</a><br /></td></tr>
<tr class="separator:accdc037c8ef6ec4cc4bc888caab21a14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7455b14c033936d039def27925887271"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_virtual_lab_backend_8h.html#a7455b14c033936d039def27925887271">END_WRITEEVENT_TABLE</a>&#160;&#160;&#160;}</td></tr>
<tr class="separator:a7455b14c033936d039def27925887271"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9b39a26dca5719656e323f26f088a2f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_virtual_lab_backend_8h.html#ab9b39a26dca5719656e323f26f088a2f">READEVENT_TABLE</a></td></tr>
<tr class="memdesc:ab9b39a26dca5719656e323f26f088a2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provide a "table" of events and register names using the CONNECT_REGISTER_EVENT macro for read events The table must be terminated with END_READEVENT_TABLE.  <a href="#ab9b39a26dca5719656e323f26f088a2f">More...</a><br /></td></tr>
<tr class="separator:ab9b39a26dca5719656e323f26f088a2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3bdbcec73f09470abcd3631ad1df493"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_virtual_lab_backend_8h.html#ac3bdbcec73f09470abcd3631ad1df493">END_READEVENT_TABLE</a>&#160;&#160;&#160;}</td></tr>
<tr class="separator:ac3bdbcec73f09470abcd3631ad1df493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbf38ab8ae9559c0fae1ddbe6021e81e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_virtual_lab_backend_8h.html#afbf38ab8ae9559c0fae1ddbe6021e81e">CONNECT_REGISTER_EVENT</a>(eventName,  regsterAccessor)</td></tr>
<tr class="memdesc:afbf38ab8ae9559c0fae1ddbe6021e81e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect events with registers.  <a href="#afbf38ab8ae9559c0fae1ddbe6021e81e">More...</a><br /></td></tr>
<tr class="separator:afbf38ab8ae9559c0fae1ddbe6021e81e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00829998642359265718b736664e942f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_virtual_lab_backend_8h.html#a00829998642359265718b736664e942f">DECLARE_REGISTER_GUARD</a>(guardName,  condition)</td></tr>
<tr class="memdesc:a00829998642359265718b736664e942f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare a guard condition on the value of a register.  <a href="#a00829998642359265718b736664e942f">More...</a><br /></td></tr>
<tr class="separator:a00829998642359265718b736664e942f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51376b4221e39d6cc579a82902fa114e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_virtual_lab_backend_8h.html#a51376b4221e39d6cc579a82902fa114e">DECLARE_GUARD</a>(guardName)</td></tr>
<tr class="memdesc:a51376b4221e39d6cc579a82902fa114e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare a guard condition.  <a href="#a51376b4221e39d6cc579a82902fa114e">More...</a><br /></td></tr>
<tr class="separator:a51376b4221e39d6cc579a82902fa114e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1de452e5c63096f3acec73e1cbafe88"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_virtual_lab_backend_8h.html#ae1de452e5c63096f3acec73e1cbafe88">END_DECLARE_GUARD</a>&#160;&#160;&#160;}</td></tr>
<tr class="separator:ae1de452e5c63096f3acec73e1cbafe88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab097e981e2772b908f529855a61938d0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_virtual_lab_backend_8h.html#ab097e981e2772b908f529855a61938d0">DECLARE_ACTION</a>(actionName)</td></tr>
<tr class="memdesc:ab097e981e2772b908f529855a61938d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare an action with arbitrary code.  <a href="#ab097e981e2772b908f529855a61938d0">More...</a><br /></td></tr>
<tr class="separator:ab097e981e2772b908f529855a61938d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec88bfd210dea9be5a808af5aad737b2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_virtual_lab_backend_8h.html#aec88bfd210dea9be5a808af5aad737b2">END_DECLARE_ACTION</a>&#160;&#160;&#160;}</td></tr>
<tr class="separator:aec88bfd210dea9be5a808af5aad737b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafef87ea9eeba56938e5b9b93d3349c1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_virtual_lab_backend_8h.html#aafef87ea9eeba56938e5b9b93d3349c1">DECLARE_TIMER</a>(name,  event)&#160;&#160;&#160;Timer&lt;event&gt; name</td></tr>
<tr class="memdesc:aafef87ea9eeba56938e5b9b93d3349c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare a timer with a given name.  <a href="#aafef87ea9eeba56938e5b9b93d3349c1">More...</a><br /></td></tr>
<tr class="separator:aafef87ea9eeba56938e5b9b93d3349c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af504d6163e4931fc2423972f2f10b988"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_virtual_lab_backend_8h.html#af504d6163e4931fc2423972f2f10b988">DECLARE_TIMER_GROUP</a>(name, ...)</td></tr>
<tr class="memdesc:af504d6163e4931fc2423972f2f10b988"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare a timer group with a given name.  <a href="#af504d6163e4931fc2423972f2f10b988">More...</a><br /></td></tr>
<tr class="separator:af504d6163e4931fc2423972f2f10b988"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f7b3b6aafb9804233adc9cae0a4ae7e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_virtual_lab_backend_8h.html#a8f7b3b6aafb9804233adc9cae0a4ae7e">DECLARE_STATE_MACHINE</a>(stateMachineName,  initialState,  transitionTable)</td></tr>
<tr class="memdesc:a8f7b3b6aafb9804233adc9cae0a4ae7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare a state machine (usually a sub-state machine, also see DECLARE_MAIN_STATE_MACHINE) dummyDeviceType is the class name of the physDummyDevice implementation the state machine will be used in stateMachineName is the name of the state machine itself.  <a href="#a8f7b3b6aafb9804233adc9cae0a4ae7e">More...</a><br /></td></tr>
<tr class="separator:a8f7b3b6aafb9804233adc9cae0a4ae7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acca7f26c8e9cbb33756f99bb330dbf18"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_virtual_lab_backend_8h.html#acca7f26c8e9cbb33756f99bb330dbf18">DECLARE_MAIN_STATE_MACHINE</a>(initialState,  transitionTable)</td></tr>
<tr class="memdesc:acca7f26c8e9cbb33756f99bb330dbf18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare the main state machine.  <a href="#acca7f26c8e9cbb33756f99bb330dbf18">More...</a><br /></td></tr>
<tr class="separator:acca7f26c8e9cbb33756f99bb330dbf18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14e136f646e92809e78b04d59dee998e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_virtual_lab_backend_8h.html#a14e136f646e92809e78b04d59dee998e">CONSTRUCTOR</a>(name, ...)</td></tr>
<tr class="memdesc:a14e136f646e92809e78b04d59dee998e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare the constructor of the VirtualLabBackend.  <a href="#a14e136f646e92809e78b04d59dee998e">More...</a><br /></td></tr>
<tr class="separator:a14e136f646e92809e78b04d59dee998e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aeeec92fddba06ad6654c09bda37eca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_virtual_lab_backend_8h.html#a2aeeec92fddba06ad6654c09bda37eca">END_CONSTRUCTOR</a>&#160;&#160;&#160;}</td></tr>
<tr class="separator:a2aeeec92fddba06ad6654c09bda37eca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfdf7e53c4ae944c0cabb976b95e1ce1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_virtual_lab_backend_8h.html#adfdf7e53c4ae944c0cabb976b95e1ce1">INIT_SUB_STATE_MACHINE</a>(name)&#160;&#160;&#160;theStateMachine.get_state&lt;name*&gt;()-&gt;setDummyDevice(this)</td></tr>
<tr class="memdesc:adfdf7e53c4ae944c0cabb976b95e1ce1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise a sub-state machine.  <a href="#adfdf7e53c4ae944c0cabb976b95e1ce1">More...</a><br /></td></tr>
<tr class="separator:adfdf7e53c4ae944c0cabb976b95e1ce1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab196c7eb9288a4aedfc05cbfbd5596c7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_virtual_lab_backend_8h.html#ab196c7eb9288a4aedfc05cbfbd5596c7">REGISTER_BACKEND_TYPE</a>(name)&#160;&#160;&#160;name::BackendRegisterer name::backendRegisterer</td></tr>
<tr class="memdesc:ab196c7eb9288a4aedfc05cbfbd5596c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register backend type with the BackendFactory.  <a href="#ab196c7eb9288a4aedfc05cbfbd5596c7">More...</a><br /></td></tr>
<tr class="separator:ab196c7eb9288a4aedfc05cbfbd5596c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="afbf38ab8ae9559c0fae1ddbe6021e81e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbf38ab8ae9559c0fae1ddbe6021e81e">&#9670;&nbsp;</a></span>CONNECT_REGISTER_EVENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONNECT_REGISTER_EVENT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">eventName, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">regsterAccessor&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                                                                                                    \</div><div class="line">    if(regsterAccessor.isAddressInRange(bar, address, sizeInBytes)) {                                                  \</div><div class="line">      try {                                                                                                            \</div><div class="line">        theStateMachine.process_event(eventName());                                                                    \</div><div class="line">      }                                                                                                                \</div><div class="line">      catch(...) {                                                                                                     \</div><div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;ERROR in VirtualLabBackend: Exception thrown while &quot;</span>                                             \</div><div class="line">                     <span class="stringliteral">&quot;processing register event. The state &quot;</span>                                                           \</div><div class="line">                  &lt;&lt; <span class="stringliteral">&quot;machine is now in an unusable condition. Make sure to &quot;</span>                                          \</div><div class="line">                     <span class="stringliteral">&quot;catch all exceptions in your &quot;</span>                                                                   \</div><div class="line">                  &lt;&lt; <span class="stringliteral">&quot;actions!&quot;</span> &lt;&lt; std::endl;                                                                          \</div><div class="line">      }                                                                                                                \</div><div class="line">    }                                                                                                                  \</div><div class="line">  }</div></div><!-- fragment -->
<p>Connect events with registers. </p>
<p>The first argument eventName is the name of an event previously declared using BOOST_MSM_EUML_EVENT. The second argument is a DummyRegisterAccessor for the register to connect with. Use this macro in the of the WRITE_EVENT_TABLE and READ_EVENT_TABLE macros. Do not separate multiple calls to CONNECT_REGISTER_EVENT inside the same WRITE_EVENT_TABLE/READ_EVENT_TABLE macro by any separator (i.e. no comma or semicolon in between - starting a new line is allowed, though!).</p>
<p>(test coverage hint: this macro is used in the test) </p>

<p class="definition">Definition at line <a class="el" href="_virtual_lab_backend_8h_source.html#l00128">128</a> of file <a class="el" href="_virtual_lab_backend_8h_source.html">VirtualLabBackend.h</a>.</p>

</div>
</div>
<a id="a14e136f646e92809e78b04d59dee998e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14e136f646e92809e78b04d59dee998e">&#9670;&nbsp;</a></span>CONSTRUCTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONSTRUCTOR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="comment">/* createInstance() function used by the BackendFactory. Creates only one                                            \</span></div><div class="line"><span class="comment">   * instance per instance name! */</span>                                                                                    \</div><div class="line">  static boost::shared_ptr&lt;ChimeraTK::DeviceBackend&gt; createInstance(                                                   \</div><div class="line">      std::string address, std::map&lt;std::string, std::string&gt; parameters) {                                            \</div><div class="line">    if(parameters[<span class="stringliteral">&quot;map&quot;</span>].empty()) {                                                                                    \</div><div class="line">      throw ChimeraTK::logic_error(<span class="stringliteral">&quot;No map file name given in the device descriptor.&quot;</span>);                                \</div><div class="line">    }                                                                                                                  \</div><div class="line">    return returnInstance&lt;name&gt;(address, convertPathRelativeToDmapToAbs(parameters[<span class="stringliteral">&quot;map&quot;</span>]));                           \</div><div class="line">  }                                                                                                                    \</div><div class="line">  <span class="comment">/* Static and global instance map (plain static members don&#39;t work                                                   \</span></div><div class="line"><span class="comment">   * header-only!) */</span>                                                                                                  \</div><div class="line">  static std::map&lt;std::string, boost::shared_ptr&lt;ChimeraTK::DeviceBackend&gt;&gt;&amp; getInstanceMap() {                        \</div><div class="line">    static std::map&lt;std::string, boost::shared_ptr&lt;ChimeraTK::DeviceBackend&gt;&gt; instanceMap;                             \</div><div class="line">    return instanceMap;                                                                                                \</div><div class="line">  }                                                                                                                    \</div><div class="line">  <span class="comment">/* Class to register the backend type with the factory. */</span>                                                           \</div><div class="line">  class BackendRegisterer {                                                                                            \</div><div class="line">   public:                                                                                                             \</div><div class="line">    BackendRegisterer() : dummy(0) {                                                                                   \</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;VirtualLabBackend::BackendRegisterer: registering backend type &quot;</span> &lt;&lt; #name &lt;&lt; std::endl;            \</div><div class="line">      ChimeraTK::BackendFactory::getInstance().registerBackendType(#name, &amp;name::createInstance);                      \</div><div class="line">    }                                                                                                                  \</div><div class="line">    <span class="comment">/* dummy variable we can reference to force linking the object code when                                           \</span></div><div class="line"><span class="comment">     * just using the header */</span>                                                                                        \</div><div class="line">    int dummy;                                                                                                         \</div><div class="line">  };                                                                                                                   \</div><div class="line">  static BackendRegisterer backendRegisterer;                                                                          \</div><div class="line">  <span class="comment">/* Actual constructor of the VirtualLabBackend class. */</span>                                                             \</div><div class="line">  name(std::string mapFileName) : VirtualLabBackend(mapFileName), ##__VA_ARGS__, theStateMachine(this) {</div></div><!-- fragment -->
<p>Declare the constructor of the VirtualLabBackend. </p>
<p>The first argument must be the class name. The other arguments must be the list of member initialisers, the code of the cunstructor follows this macro and must be terminated with END_CONSTRUCTOR, even if no code is put into the constructor. This macro will also insert the appropriate createInstance function used in the BackendFactory. It will maintain a map of all instances, so the same instance can be obtained multiple times when using the same instance name in the SDM URI (like "instanceID" in "sdm://./myVirtualLabBackend:instanceID=mapfile.map"). To register the backend type with the BackendFactory, the macro REGISTER_BACKEND_TYPE must be used.</p>
<p>Sometimes you need to force the linkter to link the object code that registers the backend in the factory (e.g. if you do not explicitly use any other part of the library). In this case, just refer to </p><pre class="fragment">&lt;yourBackend&gt;::backendRegisterer.dummy</pre><p> somewhere in your code (e.g. by setting it to 1).</p>
<dl class="section attention"><dt>Attention</dt><dd>The backends are not thread-safe. When using a VirtualLabBackend from a frontend Device concurrently in multiple threads, a transparent locking decorator must be used. When using it concurrently from the backend-side (e.g. through the backend register accessors, timers, sinks and sources etc.) you must ensure proper locking yourself.</dd></dl>
<p>(test coverage hint: these two macros are used in the test) </p>

<p class="definition">Definition at line <a class="el" href="_virtual_lab_backend_8h_source.html#l00294">294</a> of file <a class="el" href="_virtual_lab_backend_8h_source.html">VirtualLabBackend.h</a>.</p>

</div>
</div>
<a id="ab097e981e2772b908f529855a61938d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab097e981e2772b908f529855a61938d0">&#9670;&nbsp;</a></span>DECLARE_ACTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DECLARE_ACTION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">actionName</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">BOOST_MSM_EUML_ACTION(actionName##_){                                                                                \</div><div class="line">      template&lt;class Fsm, class Evt, class SourceState, class TargetState&gt; <span class="keywordtype">void</span> operator()(                            \</div><div class="line">          Evt <span class="keyword">const</span>&amp;, Fsm&amp; fsm, SourceState&amp;, TargetState&amp;){fsm.dev-&gt;actionName##_funct();                             \</div><div class="line">  }                                                                                                                    \</div><div class="line">  }                                                                                                                    \</div><div class="line">  ;                                                                                                                    \</div><div class="line">  typedef BOOST_TYPEOF(actionName##_) actionName;                                                                      \</div><div class="line">  void actionName##_funct() {</div></div><!-- fragment -->
<p>Declare an action with arbitrary code. </p>
<p>The argument actionName is the name of the resulting action class. The code must follow this macro and has to be terminated with END_DECLARE_ACTION.</p>
<p>(test coverage hint: these two macros are used in the test) </p>

<p class="definition">Definition at line <a class="el" href="_virtual_lab_backend_8h_source.html#l00192">192</a> of file <a class="el" href="_virtual_lab_backend_8h_source.html">VirtualLabBackend.h</a>.</p>

</div>
</div>
<a id="afc36c7d5610163a54075d728b8036aee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc36c7d5610163a54075d728b8036aee">&#9670;&nbsp;</a></span>DECLARE_EVENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DECLARE_EVENT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name</td><td>)</td>
          <td>&#160;&#160;&#160;class name : public msm::front::euml::euml_event&lt;name&gt; {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Declare an event. </p>
<p>Use instead of BOOST_MSM_EUML_EVENT, as we must not create instances for the events as well.</p>
<p>(test coverage hint: this macro is used in the test) </p>

<p class="definition">Definition at line <a class="el" href="_virtual_lab_backend_8h_source.html#l00045">45</a> of file <a class="el" href="_virtual_lab_backend_8h_source.html">VirtualLabBackend.h</a>.</p>

</div>
</div>
<a id="a51376b4221e39d6cc579a82902fa114e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51376b4221e39d6cc579a82902fa114e">&#9670;&nbsp;</a></span>DECLARE_GUARD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DECLARE_GUARD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">guardName</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">BOOST_MSM_EUML_ACTION(guardName##_){                                                                                 \</div><div class="line">      template&lt;class Fsm, class Evt, class SourceState, class TargetState&gt; <span class="keywordtype">bool</span> operator()(                            \</div><div class="line">          Evt <span class="keyword">const</span>&amp;, Fsm&amp; fsm, SourceState&amp;, TargetState&amp;){<span class="keywordflow">return</span> fsm.dev-&gt;guardName##_funct();                       \</div><div class="line">  }                                                                                                                    \</div><div class="line">  }                                                                                                                    \</div><div class="line">  ;                                                                                                                    \</div><div class="line">  typedef BOOST_TYPEOF(guardName##_) guardName;                                                                        \</div><div class="line">  bool guardName##_funct() {</div></div><!-- fragment -->
<p>Declare a guard condition. </p>
<p>The argument guardName is the name of the resulting guard class. The code must follow this macro, contain a return statement returning a boolean and has to be terminated with END_DECLARE_GUARD.</p>
<p>(test coverage hint: these two macros are used in the test) </p>

<p class="definition">Definition at line <a class="el" href="_virtual_lab_backend_8h_source.html#l00175">175</a> of file <a class="el" href="_virtual_lab_backend_8h_source.html">VirtualLabBackend.h</a>.</p>

</div>
</div>
<a id="a5459fdaf264e275129b53282cce6a211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5459fdaf264e275129b53282cce6a211">&#9670;&nbsp;</a></span>DECLARE_LOGGING_STATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DECLARE_LOGGING_STATE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">class </span>name : <span class="keyword">public</span> msm::front::state&lt;&gt;, <span class="keyword">public</span> msm::front::euml::euml_state&lt;name&gt; {                                 \</div><div class="line">   public:                                                                                                             \</div><div class="line">    template&lt;class Event, class FSM&gt;                                                                                   \</div><div class="line">    void on_entry(Event <span class="keyword">const</span>&amp;, FSM&amp;) {                                                                                \</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;Entering state: &quot;</span> &lt;&lt; #name &lt;&lt; std::endl;                                                           \</div><div class="line">    }                                                                                                                  \</div><div class="line">    template&lt;class Event, class FSM&gt;                                                                                   \</div><div class="line">    void on_exit(Event <span class="keyword">const</span>&amp;, FSM&amp;) {                                                                                 \</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;Leaving state: &quot;</span> &lt;&lt; #name &lt;&lt; std::endl;                                                            \</div><div class="line">    }                                                                                                                  \</div><div class="line">  }</div></div><!-- fragment -->
<p>Declare a logging state. </p>
<p>Entry and exit of this state will be looged to std::cout.</p>
<p>(test coverage hint: this macro is used in the test, but output is not actually tested) </p>

<p class="definition">Definition at line <a class="el" href="_virtual_lab_backend_8h_source.html#l00061">61</a> of file <a class="el" href="_virtual_lab_backend_8h_source.html">VirtualLabBackend.h</a>.</p>

</div>
</div>
<a id="acca7f26c8e9cbb33756f99bb330dbf18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acca7f26c8e9cbb33756f99bb330dbf18">&#9670;&nbsp;</a></span>DECLARE_MAIN_STATE_MACHINE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DECLARE_MAIN_STATE_MACHINE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">initialState, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">transitionTable&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">BOOST_MSM_EUML_TRANSITION_TABLE((transitionTable), mainStateMachine_table)                                           \</div><div class="line">  BOOST_MSM_EUML_DECLARE_STATE_MACHINE((mainStateMachine_table, init_ &lt;&lt; initialState), mainStateMachine__)            \</div><div class="line">  class mainStateMachine_ : <span class="keyword">public</span> mainStateMachine__ {                                                                \</div><div class="line">   public:                                                                                                             \</div><div class="line">    mainStateMachine_(dummyDeviceType* _dev) : mainStateMachine__(), dev(_dev) {}                                      \</div><div class="line">    dummyDeviceType* dev;                                                                                              \</div><div class="line">  };                                                                                                                   \</div><div class="line">  typedef msm::back::state_machine&lt;mainStateMachine_&gt; mainStateMachine;                                                \</div><div class="line">  mainStateMachine theStateMachine</div></div><!-- fragment -->
<p>Declare the main state machine. </p>
<p>This is just like DECLARE_STATE_MACHINE but with a fixed name "mainStateMachine". Also the state machine will be instantiated under the name "theStateMachine", as expected by other parts of this framework.</p>
<p>(test coverage hint: this macro is used in the test) </p>

<p class="definition">Definition at line <a class="el" href="_virtual_lab_backend_8h_source.html#l00257">257</a> of file <a class="el" href="_virtual_lab_backend_8h_source.html">VirtualLabBackend.h</a>.</p>

</div>
</div>
<a id="a7c75cf7155966f5b651e482e2ce6fe89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c75cf7155966f5b651e482e2ce6fe89">&#9670;&nbsp;</a></span>DECLARE_MUXED_REGISTER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DECLARE_MUXED_REGISTER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">UserType, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;ChimeraTK::DummyMultiplexedRegisterAccessor&lt;UserType&gt; name</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Declare a dummy register accessor for multiplexed 2D-array registers. </p>
<p>UserType is the data type the data should be accessed by. The conversion is handled internally using the FixedPointConverter.</p>
<p>(test coverage hint: this macro is used in the test) </p>

<p class="definition">Definition at line <a class="el" href="_virtual_lab_backend_8h_source.html#l00088">88</a> of file <a class="el" href="_virtual_lab_backend_8h_source.html">VirtualLabBackend.h</a>.</p>

</div>
</div>
<a id="a8757ab2423bfee31861bffdfee9e1f2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8757ab2423bfee31861bffdfee9e1f2d">&#9670;&nbsp;</a></span>DECLARE_REGISTER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DECLARE_REGISTER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">UserType, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;ChimeraTK::DummyRegisterAccessor&lt;UserType&gt; name</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Declare a dummy register accessor for single-word or 1D-array registers. </p>
<p>UserType is the data type the data should be accessed by. The conversion is handled internally using the FixedPointConverter.</p>
<p>(test coverage hint: this macro is used in the test) </p>

<p class="definition">Definition at line <a class="el" href="_virtual_lab_backend_8h_source.html#l00080">80</a> of file <a class="el" href="_virtual_lab_backend_8h_source.html">VirtualLabBackend.h</a>.</p>

</div>
</div>
<a id="a00829998642359265718b736664e942f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00829998642359265718b736664e942f">&#9670;&nbsp;</a></span>DECLARE_REGISTER_GUARD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DECLARE_REGISTER_GUARD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">guardName, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">condition&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">BOOST_MSM_EUML_ACTION(guardName##_){                                                                                 \</div><div class="line">      template&lt;class Fsm, class Evt, class SourceState, class TargetState&gt; <span class="keywordtype">bool</span> operator()(                            \</div><div class="line">          Evt <span class="keyword">const</span>&amp;, Fsm&amp; fsm, SourceState&amp;, TargetState&amp;){<span class="keywordflow">return</span> fsm.dev-&gt;guardName##_funct();                       \</div><div class="line">  }                                                                                                                    \</div><div class="line">  }                                                                                                                    \</div><div class="line">  ;                                                                                                                    \</div><div class="line">  typedef BOOST_TYPEOF(guardName##_) guardName;                                                                        \</div><div class="line">  bool guardName##_funct() {                                                                                           \</div><div class="line">    int32_t value = *lastWrittenData;                                                                                  \</div><div class="line">    (void)value;                                                                                                       \</div><div class="line">    return (condition);                                                                                                \</div><div class="line">  }</div></div><!-- fragment -->
<p>Declare a guard condition on the value of a register. </p>
<p>The resulting guard condition can be used on an event defined with the CONNECT_REGISTER_EVENT macro. The first argument guardName is the name of the resulting guard class and the second argument will be parsed as the guard condition (standard C++ syntax). Inside the condition, the variable "value" can be used which contains the value of the register written in the event (type: int32_t, always the first word written).</p>
<p>(test coverage hint: this macro is used in the test) </p>

<p class="definition">Definition at line <a class="el" href="_virtual_lab_backend_8h_source.html#l00154">154</a> of file <a class="el" href="_virtual_lab_backend_8h_source.html">VirtualLabBackend.h</a>.</p>

</div>
</div>
<a id="a6b7c9738f17371665a60fd7bfab763b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b7c9738f17371665a60fd7bfab763b8">&#9670;&nbsp;</a></span>DECLARE_STATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DECLARE_STATE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name</td><td>)</td>
          <td>&#160;&#160;&#160;class name : public msm::front::state&lt;&gt;, public msm::front::euml::euml_state&lt;name&gt; {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Declare a plain state, without any entry or exit functions etc. </p>
<p>(test coverage hint: this macro is used in the test) </p>

<p class="definition">Definition at line <a class="el" href="_virtual_lab_backend_8h_source.html#l00052">52</a> of file <a class="el" href="_virtual_lab_backend_8h_source.html">VirtualLabBackend.h</a>.</p>

</div>
</div>
<a id="a8f7b3b6aafb9804233adc9cae0a4ae7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f7b3b6aafb9804233adc9cae0a4ae7e">&#9670;&nbsp;</a></span>DECLARE_STATE_MACHINE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DECLARE_STATE_MACHINE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">stateMachineName, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">initialState, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">transitionTable&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">BOOST_MSM_EUML_TRANSITION_TABLE((transitionTable), stateMachineName##_table)                                         \</div><div class="line">  BOOST_MSM_EUML_DECLARE_STATE_MACHINE((stateMachineName##_table, init_ &lt;&lt; initialState), stateMachineName##__)        \</div><div class="line">  class stateMachineName##_ : <span class="keyword">public</span> stateMachineName##__ {                                                            \</div><div class="line">   public:                                                                                                             \</div><div class="line">    stateMachineName##_() : stateMachineName##__() {}                                                                  \</div><div class="line">    void setDummyDevice(dummyDeviceType* _dev) { dev = _dev; }                                                         \</div><div class="line">    dummyDeviceType* dev;                                                                                              \</div><div class="line">  };                                                                                                                   \</div><div class="line">  typedef msm::back::state_machine&lt;stateMachineName##_&gt; stateMachineName</div></div><!-- fragment -->
<p>Declare a state machine (usually a sub-state machine, also see DECLARE_MAIN_STATE_MACHINE) dummyDeviceType is the class name of the physDummyDevice implementation the state machine will be used in stateMachineName is the name of the state machine itself. </p>
<p>Several types will be defined based on this names with one or more trailing underscores. initialState is the name of the initial state. Multiple states can be added by separating them with "&lt;&lt;". transitionTable is the transition table in eUML syntax.</p>
<p>(test coverage hint: this macro is used in the test) </p>

<p class="definition">Definition at line <a class="el" href="_virtual_lab_backend_8h_source.html#l00239">239</a> of file <a class="el" href="_virtual_lab_backend_8h_source.html">VirtualLabBackend.h</a>.</p>

</div>
</div>
<a id="aafef87ea9eeba56938e5b9b93d3349c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafef87ea9eeba56938e5b9b93d3349c1">&#9670;&nbsp;</a></span>DECLARE_TIMER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DECLARE_TIMER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">event&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;Timer&lt;event&gt; name</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Declare a timer with a given name. </p>
<p>Will fire the given event.</p>
<p>(test coverage hint: this macro is used in the test) </p>

<p class="definition">Definition at line <a class="el" href="_virtual_lab_backend_8h_source.html#l00207">207</a> of file <a class="el" href="_virtual_lab_backend_8h_source.html">VirtualLabBackend.h</a>.</p>

</div>
</div>
<a id="af504d6163e4931fc2423972f2f10b988"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af504d6163e4931fc2423972f2f10b988">&#9670;&nbsp;</a></span>DECLARE_TIMER_GROUP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DECLARE_TIMER_GROUP</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">typedef</span> boost::fusion::vector&lt;DECLARE_TIMER_GROUP_DECLARE_VECTOR(__VA_ARGS__)&gt; name##__;                             \</div><div class="line">  class name##_ : <span class="keyword">public</span> TimerGroup&lt;name##__&gt; {                                                                        \</div><div class="line">   public:                                                                                                             \</div><div class="line">    name##_(dummyDeviceType* _dev) : TimerGroup(), dev(_dev) {                                                         \</div><div class="line">      DECLARE_TIMER_GROUP_MAKEMAP(__VA_ARGS__)                                                                         \</div><div class="line">      timers = std::make_unique&lt;name##__&gt;(<a class="code" href="_timer_group_8h.html#a2323b9a90b8b24e9b33624f936b3d17c">DECLARE_TIMER_GROUP_INIT_VECTOR</a>(__VA_ARGS__));                               \</div><div class="line">    }                                                                                                                  \</div><div class="line">                                                                                                                       \</div><div class="line">   protected:                                                                                                          \</div><div class="line">    dummyDeviceType* dev;                                                                                              \</div><div class="line">  };                                                                                                                   \</div><div class="line">  name##_ name</div><div class="ttc" id="_timer_group_8h_html_a2323b9a90b8b24e9b33624f936b3d17c"><div class="ttname"><a href="_timer_group_8h.html#a2323b9a90b8b24e9b33624f936b3d17c">DECLARE_TIMER_GROUP_INIT_VECTOR</a></div><div class="ttdeci">#define DECLARE_TIMER_GROUP_INIT_VECTOR(...)</div><div class="ttdoc">Helper macros: DO NOT DIRECTLY USE. </div><div class="ttdef"><b>Definition:</b> <a href="_timer_group_8h_source.html#l00113">TimerGroup.h:113</a></div></div>
</div><!-- fragment -->
<p>Declare a timer group with a given name. </p>
<p>The additional arguments must be the timers part of this group, previously declared using DECLARE_TIMER.</p>
<p>(test coverage hint: this macro is used in the test) </p>

<p class="definition">Definition at line <a class="el" href="_virtual_lab_backend_8h_source.html#l00214">214</a> of file <a class="el" href="_virtual_lab_backend_8h_source.html">VirtualLabBackend.h</a>.</p>

</div>
</div>
<a id="a2aeeec92fddba06ad6654c09bda37eca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2aeeec92fddba06ad6654c09bda37eca">&#9670;&nbsp;</a></span>END_CONSTRUCTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define END_CONSTRUCTOR&#160;&#160;&#160;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_virtual_lab_backend_8h_source.html#l00324">324</a> of file <a class="el" href="_virtual_lab_backend_8h_source.html">VirtualLabBackend.h</a>.</p>

</div>
</div>
<a id="aec88bfd210dea9be5a808af5aad737b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec88bfd210dea9be5a808af5aad737b2">&#9670;&nbsp;</a></span>END_DECLARE_ACTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define END_DECLARE_ACTION&#160;&#160;&#160;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_virtual_lab_backend_8h_source.html#l00201">201</a> of file <a class="el" href="_virtual_lab_backend_8h_source.html">VirtualLabBackend.h</a>.</p>

</div>
</div>
<a id="ae1de452e5c63096f3acec73e1cbafe88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1de452e5c63096f3acec73e1cbafe88">&#9670;&nbsp;</a></span>END_DECLARE_GUARD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define END_DECLARE_GUARD&#160;&#160;&#160;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_virtual_lab_backend_8h_source.html#l00184">184</a> of file <a class="el" href="_virtual_lab_backend_8h_source.html">VirtualLabBackend.h</a>.</p>

</div>
</div>
<a id="ac3bdbcec73f09470abcd3631ad1df493"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3bdbcec73f09470abcd3631ad1df493">&#9670;&nbsp;</a></span>END_READEVENT_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define END_READEVENT_TABLE&#160;&#160;&#160;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_virtual_lab_backend_8h_source.html#l00116">116</a> of file <a class="el" href="_virtual_lab_backend_8h_source.html">VirtualLabBackend.h</a>.</p>

</div>
</div>
<a id="a7455b14c033936d039def27925887271"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7455b14c033936d039def27925887271">&#9670;&nbsp;</a></span>END_WRITEEVENT_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define END_WRITEEVENT_TABLE&#160;&#160;&#160;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_virtual_lab_backend_8h_source.html#l00102">102</a> of file <a class="el" href="_virtual_lab_backend_8h_source.html">VirtualLabBackend.h</a>.</p>

</div>
</div>
<a id="adfdf7e53c4ae944c0cabb976b95e1ce1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfdf7e53c4ae944c0cabb976b95e1ce1">&#9670;&nbsp;</a></span>INIT_SUB_STATE_MACHINE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INIT_SUB_STATE_MACHINE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name</td><td>)</td>
          <td>&#160;&#160;&#160;theStateMachine.get_state&lt;name*&gt;()-&gt;setDummyDevice(this)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise a sub-state machine. </p>
<p>This should be called inside of the constructor.</p>
<p>(test coverage hint: this macro is used in the test) </p>

<p class="definition">Definition at line <a class="el" href="_virtual_lab_backend_8h_source.html#l00331">331</a> of file <a class="el" href="_virtual_lab_backend_8h_source.html">VirtualLabBackend.h</a>.</p>

</div>
</div>
<a id="ab9b39a26dca5719656e323f26f088a2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9b39a26dca5719656e323f26f088a2f">&#9670;&nbsp;</a></span>READEVENT_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READEVENT_TABLE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordtype">void</span> regReadEvents(uint8_t bar, uint32_t address, <span class="keywordtype">size_t</span> sizeInBytes) {                                              \</div><div class="line">    (void)bar;                                                                                                         \</div><div class="line">    (void)address;                                                                                                     \</div><div class="line">    (void)sizeInBytes;</div></div><!-- fragment -->
<p>Provide a "table" of events and register names using the CONNECT_REGISTER_EVENT macro for read events The table must be terminated with END_READEVENT_TABLE. </p>
<p>(test coverage hint: these two macros are used in the test) </p>

<p class="definition">Definition at line <a class="el" href="_virtual_lab_backend_8h_source.html#l00110">110</a> of file <a class="el" href="_virtual_lab_backend_8h_source.html">VirtualLabBackend.h</a>.</p>

</div>
</div>
<a id="ab196c7eb9288a4aedfc05cbfbd5596c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab196c7eb9288a4aedfc05cbfbd5596c7">&#9670;&nbsp;</a></span>REGISTER_BACKEND_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REGISTER_BACKEND_TYPE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name</td><td>)</td>
          <td>&#160;&#160;&#160;name::BackendRegisterer name::backendRegisterer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register backend type with the BackendFactory. </p>
<p>Must be placed into the C++ source file for any VirtualLabBackend even when not intending to use the backend factory (not into the header file)!</p>
<p>(test coverage hint: this macro is used in the test) </p>

<p class="definition">Definition at line <a class="el" href="_virtual_lab_backend_8h_source.html#l00339">339</a> of file <a class="el" href="_virtual_lab_backend_8h_source.html">VirtualLabBackend.h</a>.</p>

</div>
</div>
<a id="accdc037c8ef6ec4cc4bc888caab21a14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accdc037c8ef6ec4cc4bc888caab21a14">&#9670;&nbsp;</a></span>WRITEEVENT_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WRITEEVENT_TABLE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordtype">void</span> regWriteEvents(uint8_t bar, uint32_t address, <span class="keywordtype">size_t</span> sizeInBytes) {                                             \</div><div class="line">    (void)bar;                                                                                                         \</div><div class="line">    (void)address;                                                                                                     \</div><div class="line">    (void)sizeInBytes;</div></div><!-- fragment -->
<p>Provide a "table" of events and register names using the CONNECT_REGISTER_EVENT macro for write events. </p>
<p>The table must be terminated with END_WRITEEVENT_TABLE.</p>
<p>(test coverage hint: these two macros are used in the test) </p>

<p class="definition">Definition at line <a class="el" href="_virtual_lab_backend_8h_source.html#l00096">96</a> of file <a class="el" href="_virtual_lab_backend_8h_source.html">VirtualLabBackend.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="_virtual_lab_backend_8h.html">VirtualLabBackend.h</a></li>
    <li class="footer">Generated on Fri May 10 2019 03:54:06 for mtca4u-VirtualLab by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
