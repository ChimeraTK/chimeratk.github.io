<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ChimeraTK-ApplicationCore: doc/Migration_Guide_v2_to_v3.md Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ChimeraTK_Logo_whitebg.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ChimeraTK-ApplicationCore
   &#160;<span id="projectnumber">03.00.01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_migration___guide__v2__to__v3_8md.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">doc/Migration_Guide_v2_to_v3.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_migration___guide__v2__to__v3_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;ApplicationCore 2.x -&gt; 3.0 migration guide {#migration_guide_v2_to_v3}</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;====================================================================</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;## General ##</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;* Some header files have been removed. Make sure to build against a clean install directory without any stray old header files!</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;### Old-style servers (defineConnections still overridden) ###</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;* The ControlSystemModule does not exist any more. All PVs are connected to the control system automatically.</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;* Do not use connectTo() and operator&gt;&gt; for individual connections. Connected variables must have same fully qualified name in the directory hierarchy (formerly known as virtual hierarchy).</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;* The DeviceModule works now like the previous ConnectingDeviceModule, i.e. it publishes all registers in its neighbour directory. Use as many DeviceModules as necessary for the same device (e.g. if different triggers are used).</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;* Use fully qualified variable or module names (ModuleGroup, ApplicationModule, VariableGroup) to connect to variables of other modules.</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;* Avoid that technique (point 3) to connect to device registers whose names do not match the application structure. Instead change the logical name mapping file such that it matches the application structure.</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;* Also check points mentioned for new-style servers!</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;### New-style servers (no defineConnections) ###</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;* The DMAP file path needs to be set earlier than before, namely before the first (Connecting)DeviceModule is constructed. Create an instance of ChimeraTK::SetDMapFilePath as first data member of the application to set the path early enough.</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;* Signature of device recovery handlers changed (argument is now of the type ChimeraTK::Device&amp;).</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;* Recommended: Switch from deprecated ConnectingDeviceModule to DeviceModule (type alias for compatibility exists).</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;* Recommended: Switch from HierarchyModifyingGroup and ModifyHierarchy to plain VaraibleGroup and plain accessors, which now accept qualified paths (compatibility layers exist).</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;* Path names of device status variables changed in some cases when using a CDD instead of an alias name, since the name is more strictly stripped of special characters. See ChimeraTK::Utilities::stripName() for a function to strip the special characters programmatically.</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;* /Devices/.../deviceBecameFunctional is now of the type ChimeraTK::Void.</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;* When specifying a trigger in DeviceModule constructor that is not part of another typed network (i.e. just connected to the control system), its type wil be ChimeraTK::Void</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;* HierarchyModifyingGroup (now VariableGroup): consecutive slashes are now treated differently, they move to root and are no longer treated just as a single slash. Example: a VariableGroup with the name `some/path//with/two/slashes` will have the same effect as a VariableGroup `/with/two/slashes`.</div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="_migration___guide__v2__to__v3_8md.html">Migration_Guide_v2_to_v3.md</a></li>
    <li class="footer">Generated on Fri Dec 9 2022 04:55:19 for ChimeraTK-ApplicationCore by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
